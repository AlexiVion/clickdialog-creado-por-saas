---
import DashboardLayout from "../../layouts/DashboardLayout.astro";
---
<DashboardLayout title="Analytics · ClickDialog">
  <div class="card">
    <h1 style="margin:0 0 8px 0;">Analytics</h1>
    <p class="muted" style="margin:0 0 14px 0;">Resumen mínimo desde el backend.</p>
    <button id="btn" class="btn primary" type="button">Cargar</button>
    <pre id="out" style="margin-top: 12px; white-space: pre-wrap;"></pre>
  </div>

  <script>
    const btn = document.getElementById("btn");
    const out = document.getElementById("out");
    btn.addEventListener("click", async () => {
      out.textContent = "Cargando...";
      const res = await fetch("http://localhost:5005/api/analytics/summary");
      const j = await res.json();
      out.textContent = JSON.stringify(j, null, 2);
    });
  </script>
</DashboardLayout>
